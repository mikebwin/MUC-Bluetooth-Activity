{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/modules/ng2-socket-io/index.ts","webpack:///./src/app/modules/ng2-socket-io/ng2-socket-io.module.ts","webpack:///./src/app/modules/ng2-socket-io/socket-io.service.ts","webpack:///./src/app/serverAddr.ts","webpack:///./src/app/services/ble.service.ts","webpack:///./src/app/services/data-model.service.ts","webpack:///./src/app/services/sock.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts","webpack:///ws (ignored)"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";"," <div style=\"text-align:center\">\n   <h1>Indoor Localization Activity</h1>\n </div>\n\n <table style=\"width:100%\">\n   <tr>\n     <td>\n       <div>\n         <svg width=\"970\" height=\"716.0415\" #floorplan>\n            <g transform=\"matrix(-0.74,0.74,-0.74,-0.74,1015,365)\">\n\n              <ng-container *ngFor=\"let beacon of dataModel.beacons_svg_xy; let i = index\">\n                <circle *ngIf=\"dataModel.dists[i] > 0\" [attr.cx]=\"beacon.x\" [attr.cy]=\"beacon.y\" [attr.r]=\"dataModel.length_to_svg_length(dataModel.dists[i])\" stroke=\"black\" stroke-width=\"0.8\" fill=\"None\"> </circle>\n                <!-- <text [attr.cx]=\"beacon.x\" [attr.cy]=\"beacon.y\">test {{i}}</text> -->\n              </ng-container>\n              <circle *ngIf=\"dataModel.groundtruth.x > 0\" [attr.cx]=\"dataModel.groundtruth_svg_coord.x\" [attr.cy]=\"dataModel.groundtruth_svg_coord.y\" r=\"10\" stroke=\"black\" stroke-width=\"2\" fill=\"rgb(197, 27, 138)\"/>\n              <circle *ngIf=\"dataModel.fingerprinting_location.x > 0\" [attr.cx]=\"dataModel.fingerprinting_svg_coord.x\" [attr.cy]=\"dataModel.fingerprinting_svg_coord.x\" r=\"10\" stroke=\"black\" stroke-width=\"2\" fill=\"rgb(117, 107, 177)\"/>\n              <circle *ngIf=\"dataModel.trilateration_location.x > 0\" [attr.cx]=\"dataModel.trilateration_svg_coord.x\" [attr.cy]=\"dataModel.trilateration_svg_coord.y\" r=\"10\" stroke=\"black\" stroke-width=\"2\" fill=\"rgb(49, 163, 84)\"/>\n              <circle *ngFor=\"let beacon of dataModel.beacons_svg_xy; let i = index\" [attr.cx]=\"beacon.x\" [attr.cy]=\"beacon.y\" r=\"8\" stroke=\"black\" stroke-width=\"1\" stroke-dasharray=\"4\" [attr.fill]=\"dataModel.color_scale[dataModel.rssi_color_index[i]]\"></circle>\n              <ng-container *ngFor=\"let beacon of dataModel.beacons_svg_xy; let i = index\">\n                <text [attr.x]=\"beacon.x - 5\" [attr.y]=\"beacon.y + 5\" transform=\"rotate(-135)\" [attr.transform-origin]=\"beacon.x + ' ' + beacon.y \" font-weight=\"bold\">{{i}}</text>\n              </ng-container>\n              <g\n                 inkscape:groupmode=\"layer\"\n                 inkscape:label=\"0\"\n                 id=\"g142\"\n                 transform=\"translate(-32.795074,-240.50281)\">\n                <g\n                   id=\"g4693\"\n                   transform=\"translate(33.295074,-166.47537)\">\n                  <path\n                     id=\"path18\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 0.148201,510.23625 a 612.28345,612.28345 0 0 1 229.217219,44.58411 l -9.20294,22.77806 A 587.71652,587.71652 0 0 0 0.148201,534.80318 Z\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path20\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 0.148201,638.74019 A 483.77952,483.77952 0 0 1 181.227,673.96713 l -9.20294,22.77806 A 459.21259,459.21259 0 0 0 0.148201,663.30712 Z\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path22\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 0.148201,574.48822 a 548.03148,548.03148 0 0 1 205.148009,39.90552 l -9.20294,22.77806 A 523.46456,523.46456 0 0 0 0.148201,599.05515 Z\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path24\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 168.0029,837.66315 a 330.70866,330.70866 0 0 1 116.85363,116.85364 l 23.01503,-9.29868 A 355.27559,355.27559 0 0 0 177.30157,814.64813 Z\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path26\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 240.71819,657.68649 a 523.46456,523.46456 0 0 1 224.115,224.11501 l 22.87422,-9.24179 A 548.03148,548.03148 0 0 0 249.95997,634.81227 Z\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path28\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 216.52756,717.5604 a 459.21259,459.21259 0 0 1 188.43172,188.43173 l 22.90246,-9.2532 A 483.77952,483.77952 0 0 0 225.78075,694.65794 Z\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path30\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 0.148201,702.99216 a 419.52755,419.52755 0 0 1 157.009589,30.54835 l -9.20294,22.77806 A 394.96062,394.96062 0 0 0 0.148201,727.55909 Z\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path32\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 264.88211,597.87869 A 587.71652,587.71652 0 0 1 524.641,857.63758 l 22.85462,-9.23387 A 612.28345,612.28345 0 0 0 274.11597,575.02406 Z\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path34\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 192.29702,777.53309 A 394.96062,394.96062 0 0 1 344.9866,930.22267 l 22.94532,-9.27052 A 419.52755,419.52755 0 0 0 201.56753,754.58776 Z\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path36\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 328.58282,1085.0824 24.48125,-2.1418 a 355.27559,355.27559 0 0 0 -19.21422,-81.9323 l -23.08536,8.4024 a 330.70866,330.70866 0 0 1 17.81833,75.6717 z\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path38\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 41.269696,852.21362 -8.790187,24.15084 50.432637,18.35598 8.790187,-24.15084 z\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path40\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 113.10902,811.7552 8.40239,-23.08536 A 355.27559,355.27559 0 0 0 40.218338,769.52786 l -2.781055,24.40901 a 330.70866,330.70866 0 0 1 75.671737,17.81833 z\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path42\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 584.75382,833.35042 22.77806,-9.20294 A 676.84633,676.84633 0 0 0 298.3722,514.9878 l -9.20293,22.77806 a 652.34646,652.34646 0 0 1 295.58455,295.58456 z\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path44\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 188.97638,1084.7244 37.79527,37.7953\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path46\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 226.77165,1122.5197 H 394.96063\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path48\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 394.96062,1122.5197 A 394.96062,394.96062 0 0 0 366.20111,974.56483\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path50\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 366.20111,974.56483 22.77806,-9.20293\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path52\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 419.52755,1122.5197 A 419.52755,419.52755 0 0 0 388.97917,965.3619\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path54\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 419.52756,1122.5197 H 459.2126\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path56\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 459.21259,1122.5197 A 459.21259,459.21259 0 0 0 425.7745,950.49562\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path58\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 425.7745,950.49562 22.77806,-9.20293\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path60\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 483.77952,1122.5197 A 483.77952,483.77952 0 0 0 448.55256,941.29269\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path62\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 483.77953,1122.5197 h 39.68504\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path64\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 523.46456,1122.5197 A 523.46456,523.46456 0 0 0 485.34788,926.42641\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path66\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 485.34788,926.42641 22.77806,-9.20293\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path68\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 548.03148,1122.5197 A 548.03148,548.03148 0 0 0 508.12594,917.22348\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path70\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 548.0315,1122.5197 h 39.68504\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path72\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 587.71652,1122.5197 A 587.71652,587.71652 0 0 0 544.92127,902.3572\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path74\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 544.92127,902.3572 22.77806,-9.20293\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path76\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 612.28345,1122.5197 A 612.28345,612.28345 0 0 0 567.69933,893.15427\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path78\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 612.28345,1122.5197 h 40.06301\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path80\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 652.34646,1122.5197 A 652.34646,652.34646 0 0 0 604.8451,878.1464\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path82\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 604.8451,878.1464 30.81526,-12.45017\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path84\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 635.66036,865.69623 14.15836,35.04317\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path86\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 649.81872,900.7394 a 37.795276,37.795276 0 0 0 20.88481,-49.20153\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path88\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 670.70353,851.53787 18.84581,-7.6142\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path90\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 689.54934,843.92367 A 674.33385,674.33385 0 0 0 602.15639,669.58563\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path92\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 602.15639,669.58563 -30.95933,23.2872\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path94\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 571.19706,692.87283 A 714.74646,714.74646 0 0 0 429.64686,551.32263\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path96\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 429.64686,551.32263 25.60766,-34.04429\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path98\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 455.25452,517.27834 A 674.33385,674.33385 0 0 0 235.08124,407.51605\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path100\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 235.08124,407.51605 -3.86055,11.74191\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path102\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 231.22069,419.25796 195.31623,407.45317\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path104\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 195.31623,407.45317 a 37.795276,37.795276 0 0 0 24.09968,47.70924\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path106\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 219.41591,455.16241 a 37.795276,37.795276 0 0 0 -47.70924,24.09968\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path108\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 171.70667,479.26209 35.90445,11.80478\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path110\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 207.61112,491.06687 -3.86054,11.74191\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path112\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 203.75058,502.80878 A 652.34646,652.34646 0 0 0 0,470.17323\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path114\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 0,470.17323 v 425.5748\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path116\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 0,895.74803 37.795276,37.79528\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path118\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 37.795276,933.54331 2.672529,-2.67253\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path120\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 40.467805,930.87078 71.529865,71.52982\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path122\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 111.99767,1002.4006 -2.67252,2.6726\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path124\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 109.32515,1005.0732 8.12136,8.1213\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path126\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 117.44651,1013.1945 2.67253,-2.6725\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path128\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 120.11904,1010.522 71.52987,71.5299\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path130\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 191.64891,1082.0519 -2.67253,2.6725\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path132\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"M 0,895.74803 226.77165,1122.5197\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path134\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 394.96062,1122.5197 h 24.56694\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path136\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 459.2126,1122.5197 h 24.56692\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path138\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 523.46457,1122.5197 h 24.56691\"\n                     inkscape:connector-curvature=\"0\" />\n                  <path\n                     id=\"path140\"\n                     style=\"fill:none;stroke:#000000\"\n                     d=\"m 587.71654,1122.5197 h 24.56691\"\n                     inkscape:connector-curvature=\"0\" />\n                </g>\n              </g>\n            </g>\n         </svg>\n       </div>\n     </td>\n     <td>\n      <div>\n       BLE scan update interval: {{dataModel.scan_time_interval}} ms\n       <mat-slider\n               [max]=\"10000\"\n               [min]=\"100\"\n               [step]=\"100\"\n               [disabled]=\"dataModel.collecting_data || dataModel.is_data_replay\"\n               [thumbLabel]=\"dataModel.scan_time_interval\"\n               [tickInterval]=\"500\"\n               [(ngModel)]=\"dataModel.scan_time_interval\"\n               [vertical]=\"false\"\n               (input)=\"change_scan_interval($event)\"\n               ></mat-slider>\n\n      </div>\n       <button mat-raised-button color=\"primary\" [disabled]=\"dataModel.disable_svg_click || dataModel.collecting_data || (dataModel.groundtruth.x < 0) || dataModel.is_data_replay\" (click)=\"start_collecting()\">Collect data</button>\n       <button mat-raised-button color=\"warn\" [disabled]=\"!dataModel.collecting_data || dataModel.is_data_replay\" (click)=\"cancel_collecting()\">Cancel</button>\n       <span *ngIf=\"dataModel.groundtruth.x < 0\"> Click on the map to provide groundtruth</span>\n       <span *ngIf=\"dataModel.collecting_data\">{{dataModel.rssi_history.length}}/{{dataModel.NUM_DATA_TO_COLLECT}}</span>\n       <button *ngIf=\"dataModel.download_rssi_history_buffer.length === dataModel.NUM_DATA_TO_COLLECT\" mat-raised-button color=\"accent\" (click)=\"download_collected_data()\">Download collected data</button>\n       <div>\n         <span *ngIf=\"dataModel.collecting_data\">Please cancel if groundtruth location is wrong. Don't move location while collecting</span>\n       </div>\n\n       <br>\n\n\n       <div>\n         <table style=\"font-size:15pt;\">\n           <caption> <b>Localization using Fingerprinting & Trilateration</b></caption>\n           <tr>\n             <th>Method</th>\n             <th>X position</th>\n             <th>Y position</th>\n             <th>Z position</th>\n           </tr>\n           <tr>\n             <td style=\"color:rgb(197, 27, 138);\"> <b>Groundtruth</b> </td>\n             <td>{{ dataModel.groundtruth.x > 0 ? (dataModel.groundtruth.x | number) : 'n/a'}} m</td>\n             <td>{{ dataModel.groundtruth.y > 0 ? (dataModel.groundtruth.y | number) : 'n/a'}} m</td>\n             <td>{{ dataModel.groundtruth.z > 0 ? (dataModel.groundtruth.z | number) : 'n/a'}} m</td>\n           </tr>\n           <tr>\n             <td style=\"color:rgb(117, 107, 177);\"> <b>Fingerprinting</b></td>\n             <td>{{ dataModel.fingerprinting_location.x > 0 ? (dataModel.fingerprinting_location.x | number) : 'n/a'}} m</td>\n             <td>{{ dataModel.fingerprinting_location.y > 0 ? (dataModel.fingerprinting_location.y | number) : 'n/a'}} m</td>\n             <td>{{ dataModel.fingerprinting_location.z > 0 ? (dataModel.fingerprinting_location.z | number) : 'n/a'}} m</td>\n           </tr>\n           <tr>\n             <td style=\"color:rgb(49, 163, 84);\"> <b>Trilateration </b></td>\n             <td>{{ dataModel.trilateration_location.x > 0 ? (dataModel.trilateration_location.x | number) : 'n/a'}} m</td>\n             <td>{{ dataModel.trilateration_location.y > 0 ? (dataModel.trilateration_location.y | number) : 'n/a'}} m</td>\n             <td>{{ dataModel.trilateration_location.z > 0 ? (dataModel.trilateration_location.z | number) : 'n/a'}} m</td>\n           </tr>\n         </table>\n       </div>\n       <br>\n <!--       <div>\n         {{sock.rssi}}\n       </div> -->\n       <div>\n         <table style=\"font-size:15pt;\">\n           <caption> <b>Bluetooth Beacon rssi & distance</b></caption>\n           <tr>\n             <th>Beacon #id</th>\n             <th>0</th>\n             <th>1</th>\n             <th>2</th>\n             <th>3</th>\n             <th>4</th>\n             <th>5</th>\n             <th>6</th>\n             <th>7</th>\n           </tr>\n           <tr>\n             <td> <b>rssi (dBm)</b> </td>\n             <td>{{dataModel.rssi[0] | number}}</td>\n             <td>{{dataModel.rssi[1] | number}}</td>\n             <td>{{dataModel.rssi[2] | number}}</td>\n             <td>{{dataModel.rssi[3] | number}}</td>\n             <td>{{dataModel.rssi[4] | number}}</td>\n             <td>{{dataModel.rssi[5] | number}}</td>\n             <td>{{dataModel.rssi[6] | number}}</td>\n             <td>{{dataModel.rssi[7] | number}}</td>\n           </tr>\n           <tr>\n             <td> <b>distance (m)</b> </td>\n             <td>{{dataModel.dists[0] > 0 ? (dataModel.dists[0] | number) : 'n/a'}}</td>\n             <td>{{dataModel.dists[1] > 0 ? (dataModel.dists[1] | number) : 'n/a'}}</td>\n             <td>{{dataModel.dists[2] > 0 ? (dataModel.dists[2] | number) : 'n/a'}}</td>\n             <td>{{dataModel.dists[3] > 0 ? (dataModel.dists[3] | number) : 'n/a'}}</td>\n             <td>{{dataModel.dists[4] > 0 ? (dataModel.dists[4] | number) : 'n/a'}}</td>\n             <td>{{dataModel.dists[5] > 0 ? (dataModel.dists[5] | number) : 'n/a'}}</td>\n             <td>{{dataModel.dists[6] > 0 ? (dataModel.dists[6] | number) : 'n/a'}}</td>\n             <td>{{dataModel.dists[7] > 0 ? (dataModel.dists[7] | number) : 'n/a'}}</td>\n           </tr>\n         </table>\n       </div>\n       <br>\n       <div>\n        <b> Recorded file play back:</b> <span *ngIf=\"dataModel.play_data.length > 0\"> Record_length: {{dataModel.play_data.length}} play progress: {{dataModel.current_play_index}}/{{dataModel.play_data.length}}</span>\n         <div>\n           <input hidden type=\"file\" #uploader (change)=\"uploadFile($event)\"/>\n           <button mat-raised-button [disabled]=\"dataModel.collecting_data\" color=\"primary\" (click)=\"uploader.click()\"> Upload recorded csv file</button>\n           <button mat-raised-button [disabled]=\"dataModel.collecting_data\" *ngIf=\"dataModel.play_data.length > 0 && !dataModel.is_data_replay\" color=\"primary\" (click)=\"play_recorded()\">Play</button>\n           <button mat-raised-button [disabled]=\"dataModel.collecting_data\" *ngIf=\"dataModel.play_data.length > 0 && dataModel.is_data_replay\" color=\"accent\" (click)=\"pause_recorded()\">Pause</button>\n           <button mat-raised-button [disabled]=\"dataModel.collecting_data\" *ngIf=\"dataModel.play_data.length > 0\" color=\"warn\" (click)=\"stop_playing()\">Stop</button>\n            <div *ngIf= \"dataModel.play_data.length > 0\">\n              Play interval: {{dataModel.play_time_interval}} ms\n                 <mat-slider\n                         [max]=\"5000\"\n                         [min]=\"100\"\n                         [step]=\"100\"\n                         [disabled]=\"dataModel.collecting_data || dataModel.is_data_replay\"\n                         [thumbLabel]=\"dataModel.play_time_interval\"\n                         [tickInterval]=\"100\"\n                         [(ngModel)]=\"dataModel.play_time_interval\"\n                         [vertical]=\"false\"\n                         (input)=\"change_play_interval($event)\"\n                         ></mat-slider>\n            </div>\n        </div>\n\n       </div>\n     </td>\n   </tr>\n </table>","import { Component, ViewChild, ElementRef, OnInit, AfterViewInit } from '@angular/core';\nimport { DataModelService } from './services/data-model.service'\nimport { SockService } from './services/sock.service'\nimport { BleService } from './services/ble.service'\nimport * as FileSaver from 'file-saver';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent {\n  title = 'indoor-localisation-visualization';\n  public dataModel: DataModelService\n  public svg_x = 0\n  public svg_y = 0\n  private rssi_record_play_timer: any\n\n  @ViewChild('floorplan') floorplan: ElementRef\n  constructor(private mydataModel: DataModelService, private sock: SockService, private ble: BleService) {\n    this.dataModel = mydataModel\n  }\n\n  ngOnInit() {\n\n  }\n  ngAfterViewInit() {\n    // const x_offset = 12\n    // const y_offset = 92\n    // const desk_height = 0.86\n\n    let floorplan_svg = this.floorplan.nativeElement\n    // floorplan_svg.addEventListener('mousemove', function(event) {\n    //   // console.log(event)\n    //   this.svg_x = event.clientX - x_offset\n    //   this.svg_y = event.clientY - y_offset\n    // })\n\n    floorplan_svg.addEventListener('click', event => {\n      // console.log(`${event.clientX} ${event.clientY}`)\n      if (!this.dataModel.disable_svg_click) {\n          let real_xy = this.dataModel.mouse_click_coord_to_xy({x:event.clientX, y:event.clientY})\n          this.dataModel.groundtruth.x = real_xy.x\n          this.dataModel.groundtruth.y = real_xy.y\n          this.dataModel.groundtruth.z = this.dataModel.x_y_to_z(real_xy.x, real_xy.y)\n          let groundtruth_svg_coord = this.dataModel.xy_to_svg_xy(this.dataModel.groundtruth)\n          this.dataModel.groundtruth_svg_coord.x = groundtruth_svg_coord.x\n          this.dataModel.groundtruth_svg_coord.y = groundtruth_svg_coord.y\n      }\n    })\n  }\n\n  start_collecting() {\n    this.dataModel.collecting_data = true\n    this.dataModel.disable_svg_click = true\n    this.dataModel.rssi_history.length = 0\n    this.dataModel.download_ground_truth.x = this.dataModel.groundtruth.x\n    this.dataModel.download_ground_truth.y = this.dataModel.groundtruth.y\n    this.dataModel.download_ground_truth.z = this.dataModel.groundtruth.z\n  }\n\n  cancel_collecting() {\n    this.dataModel.collecting_data = false\n    this.dataModel.disable_svg_click = false\n    this.dataModel.rssi_history.length = 0\n    this.dataModel.download_rssi_history_buffer.length = 0\n  }\n\n  change_scan_interval(event) {\n    this.ble.change_scan_interval(event)\n  }\n\n  download_collected_data() {\n    let str_to_write = 'id, rssi0, rssi1, rssi2, rssi3, rssi4, rssi5, rssi6, rssi7, location_x, location_y, location_z\\n'\n    let id = this.dataModel.id + new Date().valueOf()\n    let file_name = id + '_rssi_data.csv'\n    str_to_write += this.dataModel.download_rssi_history_buffer.map(d => `${id}, ${d[0]}, ${d[1]}, ${d[2]}, ${d[3]}, ${d[4]}, ${d[5]}, ${d[6]}, ${d[7]}, ${this.dataModel.download_ground_truth.x}, ${this.dataModel.download_ground_truth.y}, ${this.dataModel.download_ground_truth.z}`).join('\\n')\n    FileSaver.saveAs(new Blob([str_to_write]), file_name)\n  }\n\n  uploadFile(event) {\n    console.log(event)\n    this.dataModel.play_data.length = 0\n    this.dataModel.current_play_index = 0\n    this.dataModel.is_data_replay = false\n    let fileReader = new FileReader()\n    fileReader.onload = (e) => {\n      let entries = fileReader.result.toString().split('\\n').splice(1)\n      entries.forEach(e => {\n        let numbers = e.split(',').splice(1).map(e => parseFloat(e))\n        this.dataModel.play_data.push({rssi:[numbers[0], numbers[1], numbers[2], numbers[3], numbers[4], numbers[5], numbers[6], numbers[7]], groundtruth:{x:numbers[8], y:numbers[9], z:numbers[10]}})\n      })\n      console.log('data loaded')\n      console.log(this.dataModel.play_data)\n      let target = event.target || event.srcElement\n      target.value = ''\n\n    }\n    fileReader.readAsText(event.target.files[0])\n\n  }\n\n  stop_playing() {\n    this.dataModel.current_play_index = 0\n    this.dataModel.play_data.length = 0\n    this.dataModel.is_data_replay = false\n    this.dataModel.groundtruth.x = -1\n    this.dataModel.groundtruth.y = -1\n    this.dataModel.groundtruth.z = -1\n    this.dataModel.groundtruth_svg_coord.x = -1\n    this.dataModel.groundtruth_svg_coord.y = -1\n    try {\n      clearInterval(this.rssi_record_play_timer)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  update_record_play() {\n    let cur_record = this.dataModel.play_data[this.dataModel.current_play_index]\n    console.log(cur_record)\n    this.dataModel.current_play_index += 1\n    this.sock.update_rssi(cur_record.rssi)\n    cur_record.rssi.forEach((v, i) => this.dataModel.dists[i] = v)\n    this.dataModel.groundtruth.x = cur_record.groundtruth.x\n    this.dataModel.groundtruth.y = cur_record.groundtruth.y\n    this.dataModel.groundtruth.z = cur_record.groundtruth.z\n    let groundtruth_svg_coord = this.dataModel.xy_to_svg_xy(this.dataModel.groundtruth)\n    this.dataModel.groundtruth_svg_coord.x = groundtruth_svg_coord.x\n    this.dataModel.groundtruth_svg_coord.y = groundtruth_svg_coord.y\n\n    if (this.dataModel.current_play_index === this.dataModel.play_data.length) {\n      this.dataModel.is_data_replay = false\n      this.dataModel.current_play_index = 0\n      clearInterval(this.rssi_record_play_timer)\n      this.dataModel.groundtruth.x = -1\n      this.dataModel.groundtruth.y = -1\n      this.dataModel.groundtruth.z = -1\n      this.dataModel.groundtruth_svg_coord.x = -1\n      this.dataModel.groundtruth_svg_coord.y = -1\n    }\n\n  }\n\n  play_recorded() {\n    this.dataModel.is_data_replay = true\n    this.rssi_record_play_timer = setInterval(this.update_record_play.bind(this), this.dataModel.play_time_interval)\n  }\n\n  pause_recorded() {\n    this.dataModel.is_data_replay = false\n    clearInterval(this.rssi_record_play_timer)\n  }\n\n  change_play_interval(event) {\n    clearInterval(this.rssi_record_play_timer)\n    // this.rssi_record_play_timer = setInterval(this.update_record_play.bind(this), this.dataModel.play_time_interval)\n  }\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\n// import { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\n\nimport { wsAddr } from './serverAddr';\n\nimport { SocketIoModule, SocketIoConfig } from './modules/ng2-socket-io';\nimport { DataModelService } from './services/data-model.service';\nimport { SockService } from './services/sock.service';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatButtonModule } from '@angular/material'\nimport { MatSliderModule } from '@angular/material'\nimport { BleService } from './services/ble.service'\nimport { FormsModule } from '@angular/forms';\n\nconst config: SocketIoConfig = { url: wsAddr, options:{} };\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    SocketIoModule.forRoot(config),\n    // AppRoutingModule,\n    BrowserAnimationsModule,\n    FormsModule,\n    MatButtonModule,\n    MatSliderModule\n  ],\n  providers: [\n    SockService,\n    DataModelService,\n    BleService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","export { Ng2SocketIoModule as SocketIoModule } from './ng2-socket-io.module';\nexport { SocketIoConfig } from './socketIoConfig';\nexport { SocketIoService as Socket } from './socket-io.service';","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SocketIoService } from './socket-io.service';\nimport { SocketIoConfig } from './socketIoConfig';\nexport function SocketFactory(config: SocketIoConfig) {\n    return new SocketIoService(config);\n}\nexport const socketConfig = '__SOCKET_IO_CONFIG__';\n@NgModule({})\n\n// @NgModule({\n//   declarations: [],\n//   imports: [\n//     CommonModule\n//   ]\n// })\nexport class Ng2SocketIoModule {\n    static forRoot(config: SocketIoConfig): ModuleWithProviders {\n        return {\n            ngModule: Ng2SocketIoModule,\n            providers: [\n                { provide: socketConfig, useValue: config },\n                {\n                    provide: SocketIoService,\n                    useFactory: SocketFactory,\n                    deps : [socketConfig]\n                }\n            ]\n        };\n    }\n}\n","import { Injectable, EventEmitter } from '@angular/core';\nimport { Observable } from 'rxjs';\n// import 'rxjs/add/operator/share';\nimport { share } from 'rxjs/operators';\n\nimport * as io from 'socket.io-client';\n\nimport { SocketIoConfig } from './socketIoConfig';\n\n\n// @Injectable({\n//   providedIn: 'root'\n// })\nexport class SocketIoService {\n  subscribersCounter = 0;\n  ioSocket: any;\n\n  constructor(config: SocketIoConfig) {\n    const url: string = config.url || '';\n    const options: any = config.options || {};\n    this.ioSocket = io(url, options);\n  }\n  on(eventName: string, callback: Function) {\n      this.ioSocket.on(eventName, callback);\n  }\n\n  once(eventName: string, callback: Function) {\n      this.ioSocket.once(eventName, callback);\n  }\n\n  connect() {\n      return this.ioSocket.connect();\n  }\n\n  disconnect(close?: any) {\n      return this.ioSocket.disconnect.apply(this.ioSocket, arguments);\n  }\n\n  emit(eventName: string, data: any, callback?: Function) {\n      return this.ioSocket.emit.apply(this.ioSocket, arguments);\n  }\n\n  removeListener(eventName: string, callback?: Function) {\n      return this.ioSocket.removeListener.apply(this.ioSocket, arguments);\n  }\n\n  removeAllListeners(eventName?: string) {\n      return this.ioSocket.removeAllListeners.apply(this.ioSocket, arguments);\n  }\n\n  /** create an Observable from an event */\n  fromEvent<T>(eventName: string): Observable<T> {\n    this.subscribersCounter++;\n    return Observable.create( (observer: any) => {\n      this.ioSocket.on(eventName, (data: T) => {\n         observer.next(data);\n      });\n      return () => {\n        if (this.subscribersCounter === 1) {\n          this.ioSocket.removeListener(eventName);\n        }\n      };\n    }).share();\n  }\n\n}\n","// echo 65536 | sudo tee -a /proc/sys/fs/inotify/max_user_watches\n// export const wsAddr = 'http://yuhui-desktop.duckdns.org:8080';\nexport const wsAddr = 'http://localhost:8090/sock';\n// export const wsAddr = 'http://192.168.0.9:8080';\n// export const wsAddr = 'http://192.168.2.1:8088';\n\n\n","import { Injectable } from '@angular/core';\nimport { DataModelService } from './data-model.service';\nimport { SockService } from './sock.service'\n// let window:any\ndeclare var chrome:any;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BleService {\n\n  private rssi_scan_interval_timer: any\n\n  constructor(private dataModel: DataModelService, private sockService: SockService) {\n\n    function handle_discovered_device(device) {\n      if (device.name && device.inquiryRssi) {\n        if (device.name.substring(0, 6) === 'Beacon') {\n          let index = parseInt(device.name.substring(7))\n          dataModel.rssi_buffer[index] = device.inquiryRssi\n        }\n      }\n    }\n\n    if (chrome !== undefined) {\n      if (chrome.bluetooth !== undefined) {\n        chrome.bluetooth.startDiscovery()\n        chrome.bluetooth.getDevices(devices => devices.forEach(handle_discovered_device))\n        chrome.bluetooth.onDeviceChanged.addListener(handle_discovered_device)\n        chrome.bluetooth.onDeviceAdded.addListener(handle_discovered_device)\n      }\n    }\n\n    this.rssi_scan_interval_timer = setInterval(this.update_rssi_scan_entry.bind(this), dataModel.scan_time_interval)\n  }\n\n  update_rssi_scan_entry() {\n    console.log(this.dataModel.rssi_buffer)\n    let rssi_copy = this.dataModel.hard_copy(this.dataModel.rssi_buffer)\n    if (rssi_copy.reduce((a, b) => a + b) === 0) {\n      return\n    }\n    rssi_copy.forEach((v, i) => {this.dataModel.rssi[i] = v})\n    this.dataModel.rssi_history.push(rssi_copy)\n    this.dataModel.rssi_buffer = Array.from({length: 8}, (v, i) => 0)\n    this.dataModel.rssi.forEach((entry, i) => {\n      if (entry >= 0) {\n        this.dataModel.rssi_color_index[i] = 0\n      } else {\n        let num = entry + 90\n        if (num <= 0) {\n          this.dataModel.rssi_color_index[i] = 1\n        } else {\n          this.dataModel.rssi_color_index[i] = Math.ceil(num / 10) + 1\n        }\n        if (this.dataModel.rssi_color_index[i] >= 6) {\n          this.dataModel.rssi_color_index[i] = 6\n        }\n      }\n    })\n    if (! this.dataModel.is_data_replay) {\n      this.sockService.update_rssi(rssi_copy)\n    }\n    if (this.dataModel.collecting_data) {\n      this.dataModel.download_rssi_history_buffer.push(rssi_copy)\n      if (this.dataModel.download_rssi_history_buffer.length >= this.dataModel.NUM_DATA_TO_COLLECT) {\n        this.dataModel.disable_svg_click = false\n        this.dataModel.collecting_data = false\n      }\n    }\n  }\n\n  change_scan_interval(event) {\n    clearInterval(this.rssi_scan_interval_timer)\n    this.rssi_scan_interval_timer = setInterval(this.update_rssi_scan_entry.bind(this), event.value)\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataModelService {\n  public rssi_buffer = Array.from({length: 8}, (v, i) => 0)\n  public rssi = Array.from({length: 8}, (v, i) => 0)\n  public dists = Array.from({length: 8}, (v, i) => -1)\n  public rssi_color_index = Array.from({length: 8}, (v, i) => 0)\n\n  public fingerprinting_location = { x:-1, y:-1, z:-1 }\n  public trilateration_location  = { x:-1, y:-1, z:-1 }\n  public fingerprinting_svg_coord = { x:-1, y:-1 }\n  public trilateration_svg_coord  = { x:-1, y:-1 }\n\n  public groundtruth = { x:-1, y:-1, z:-1 }\n  public groundtruth_svg_coord = { x:-1, y:-1 }\n\n  public rssi_history = []\n  public scan_time_interval = 2000\n  public isLinux = false\n  public disable_svg_click = false\n  public collecting_data = false\n  public download_rssi_history_buffer = []\n  public download_ground_truth = { x:-1, y:-1, z:-1 }\n\n  public NUM_DATA_TO_COLLECT = 10\n  public id = ''\n\n  public is_data_replay = false\n  public play_data = []\n  public current_play_index = 0\n  public play_time_interval = 1000\n\n  public beacons = [\n    {x:13.369,  y:13.396,  z:4.824},\n    {x:13.21,   y:5.18,    z:4.12},\n    {x:10.066,  y:3.911,  z:3.723},\n    {x:3.012,   y:3.066,   z:2.466},\n    {x:3.884,   y:10.067,  z:3.723},\n    {x:5.152,   y:13.211,  z:4.12 },\n    {x:6.024,   y:8.958,   z:1.871},\n    {x:8.904,   y:6.025,   z:1.871}\n  ]\n\n  public beacons_svg_xy = []\n\n  public color_scale = [\n    'rgb(255, 255, 255)',\n    'rgb(255, 255, 178)',\n    'rgb(254, 217, 118)',\n    'rgb(254, 178, 76)',\n    'rgb(254, 178, 76)',\n    'rgb(254, 141, 60)',\n    'rgb(240, 59, 32)',\n    'rgb(189, 0, 38)'\n  ]\n\n  private x_offset = 11\n  private y_offset = 90\n  private desk_height = 0.86\n  private scale_factor = 18.244/690.62405\n\n\n  constructor() {\n    console.log(this.rssi_buffer)\n    this.id = '_' + Math.random().toString(36).substr(2, 9)\n\n    if (window.navigator.userAgent.indexOf(\"Linux\")) {\n      this.isLinux = true\n    }\n\n    this.beacons.forEach((beacon, i) => {\n      this.beacons_svg_xy.push(this.xy_to_svg_xy(beacon))\n    })\n    console.log(this.beacons_svg_xy)\n  }\n\n  xy_to_svg_xy(xy) {\n    return {x: xy.x/this.scale_factor, y:716.0415 - xy.y/this.scale_factor}\n  }\n\n  length_to_svg_length(l) {\n    return l / this.scale_factor\n  }\n\n  svg_xy_to_xy(xy) {\n    return {x: xy.x * this.scale_factor, y: (716.0416 - xy.y) * this.scale_factor}\n  }\n\n  mouse_click_coord_to_xy (xy) {\n    let a = -0.6756756756756756756\n    let b = -0.6756756756756756756\n    let c =  0.6756756756756756756\n    let d = -0.6756756756756756756\n    let e = 439.189189189189189189\n    let f = 932.432432432432432432\n    let oldX = xy.x - this.x_offset\n    let oldY = xy.y - this.y_offset\n    let newX = a * oldX + c * oldY + e\n    let newY = b * oldX + d * oldY + f\n    return this.svg_xy_to_xy({x: newX, y: newY})\n  }\n\n  x_y_to_z(x, y) {\n    let dist_to_center = Math.sqrt(x * x + y * y)\n    if (dist_to_center < 10.45) {\n      return this.desk_height\n    } else if (dist_to_center > 17.26) {\n      return 2.604\n    } else {\n      return this.desk_height + Math.ceil((dist_to_center - 10.45)/1.716) * 0.337\n    }\n  }\n\n  hard_copy(obj) {\n    return JSON.parse(JSON.stringify(obj))\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { Socket } from '../modules/ng2-socket-io';\nimport { DataModelService } from './data-model.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SockService {\n\n  constructor(private socket: Socket, private dataModel: DataModelService) {\n    socket.on('connect', (sock) => {\n      console.log('on connect');\n    });\n    socket.on('disconnect', (sock) => {\n      console.log('on disconnect');\n    });\n\n    socket.on('bleScan', (device) => {\n      console.log(device)\n      if (device.name && device.inquiryRssi) {\n        if (device.name.substring(0, 6) === 'Beacon') {\n          let index = parseInt(device.name.substring(7))\n          dataModel.rssi_buffer[index] = device.inquiryRssi\n        }\n      }\n    })\n\n    socket.on('location', (msg) => {\n      console.log(`fingerprinting: (${msg.knn.x}, ${msg.knn.y}, ${msg.knn.z}) trilateration: (${msg.trilateration.x}, ${msg.trilateration.y}, ${msg.trilateration.z}) dists: ${(dataModel.dists.map(e => e.toString()).join(', '))}`)\n      msg.dists.forEach((v, i) => {\n        dataModel.dists[i] = v\n      })\n      dataModel.fingerprinting_location.x = msg.knn.x\n      dataModel.fingerprinting_location.y = msg.knn.y\n      dataModel.fingerprinting_location.z = msg.knn.z\n      let knn_xy = this.dataModel.xy_to_svg_xy(dataModel.fingerprinting_location)\n      this.dataModel.fingerprinting_svg_coord.x = knn_xy.x\n      this.dataModel.fingerprinting_svg_coord.y = knn_xy.y\n\n      dataModel.trilateration_location.x = msg.trilateration.x\n      dataModel.trilateration_location.y = msg.trilateration.y\n      dataModel.trilateration_location.z = msg.trilateration.z\n\n      let tri_xy = this.dataModel.xy_to_svg_xy(dataModel.trilateration_location)\n      this.dataModel.trilateration_svg_coord.x = tri_xy.x\n      this.dataModel.trilateration_svg_coord.y = tri_xy.y\n\n    })\n  }\n\n  update_rssi(rssi_data) {\n    console.log(`rssi_update ${rssi_data}`)\n    this.socket.emit('rssi_update',rssi_data)\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import 'hammerjs';\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","/* (ignored) */"],"sourceRoot":""}